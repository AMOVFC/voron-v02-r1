[duplicate_pin_override]
pins: ^gpio16 

[gcode_button sp_sensor]
pin: ^gpio16    # Filament Sensor pin - keep ^ pullup symbol
press_gcode:
  _SP_BUTTON_IN
release_gcode:
  _SP_BUTTON_OUT
  

[filament_switch_sensor sp_sensor_runout]
switch_pin: ^gpio16    # Filament Sensor pin - keep ^ pullup symbol
pause_on_runout: False
insert_gcode:
  _SP_SENSOR_IN
runout_gcode:
  _SP_SENSOR_OUT
event_delay: 0.5
pause_delay: 1.0

[servo sp_servo]
pin: gpio29    # Servo pin
initial_angle: 0
maximum_servo_angle: 180
minimum_pulse_width: 0.000700
maximum_pulse_width: 0.002300


[manual_stepper sp_motor]  
step_pin: gpio14
dir_pin: !gpio13
enable_pin: !gpio15
full_steps_per_rotation: 200
rotation_distance: 17.64                # Needs calibration after final tuning - start with a 10mm forward movement to eliminate backlash, and then extrude 100mm for measurement - use SP_FORCE_MOVE_LANE for calibrating distances
# endstop_pin: ^PICO_MMU: PB6              # Filament Sensor pin - keep ^ pullup symbol
microsteps: 16


[tmc2209 manual_stepper sp_motor]
uart_pin: gpio9
tx_pin: gpio8
uart_address: 3
run_current: 0.7           # Adjust depending on your motor current ( Motor Rated Current * 0.707(RMS) * 0.8(Safety Factor) )
interpolate: true
stealthchop_threshold: 99999
